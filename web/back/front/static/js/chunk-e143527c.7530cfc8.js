(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e143527c"],{"071d":function(t,e,n){"use strict";n.r(e);var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"",size:"mini","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"币种",align:"center",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.symbol)+" ")]}}])}),n("el-table-column",{attrs:{label:"交易数量",align:"center",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.quantity))])]}}])}),n("el-table-column",{attrs:{label:"止盈率",align:"center",width:"70","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.rate)+"% ")]}}])}),n("el-table-column",{attrs:{label:"买单价",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.buy_price)+" ")]}}])}),n("el-table-column",{attrs:{label:"卖单价",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.sell_price)+" ")]}}])}),n("el-table-column",{attrs:{label:"当前数量",align:"center",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.buy_quantity)+" ")]}}])}),n("el-table-column",{attrs:{label:"当前收益",align:"center",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.nowProfit(e.row.history_trade))+" ")]}}])}),n("el-table-column",{attrs:{label:"止损率",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.stop_loss||"-")+" ")]}}])}),n("el-table-column",{attrs:{label:"开启",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#dcdfe6"},on:{change:function(e){return t.isStop(e,l)}},model:{value:l.open,callback:function(e){t.$set(l,"open",e)},expression:"row.open"}})]}}])}),n("el-table-column",{attrs:{type:"expand",label:"交易记录",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[n("el-table",{attrs:{data:l.history_trade,border:"",fit:"",size:"mini","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"交易数量",align:"center",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.quantity)+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"交易价格",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.price)+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"交易方向",align:"center",width:"75"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s("BUY"===n.side?"买入":"卖出")+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"预计卖价",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.sell_price||"-")+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"收益",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.profit?t.round(n.profit||0):"-")+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"已卖出",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[!0===l.isSell?n("span",{staticStyle:{color:"green"}},[t._v("是")]):!1===l.isSell?n("span",{staticStyle:{color:"red"}},[t._v("否 ")]):n("span",[t._v("-")])]}}],null,!0)}),n("el-table-column",{attrs:{label:"止损率",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s("BUY"===n.side?(n.stop_loss||0)+"%":"-")+" ")]}}],null,!0)}),n("el-table-column",{attrs:{label:"交易时间",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.time)+" ")]}}],null,!0)})],1)]}}])})],1)],1)},r=[],o=n("1da1"),a=(n("4de4"),n("a9e3"),n("96cf"),n("2465")),i=n("7909"),u={data:function(){return{list:null,listLoading:!0,timeId:null}},created:function(){var t=this;this.fetchData(),this.timeId=setInterval((function(){return t.fetchData()}),3e4)},methods:{fetchData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(a["a"])();case 3:n=e.sent,l=n.data,t.list=l.list,t.listLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},eidt:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])({trades:t.list});case 2:case"end":return e.stop()}}),e)})))()},nowProfit:function(t){return Object(i["a"])(t.filter((function(t){return"SELL"===t.side})).reduce((function(t,e){return t+Number(e.profit||0)}),0),2)},nowLoss:function(t){return t.filter((function(t){return"SELL"===t.side&&!1===t.isSell}))},round:function(t){return Object(i["a"])(t)},isStop:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.listLoading=!0,t.prev=1,t.next=4,Object(a["b"])({trades:n.list});case 4:n.$message({message:"修改成功",type:"success"}),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:n.listLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},s=u,c=n("2877"),f=Object(c["a"])(s,l,r,!1,null,null,null);e["default"]=f.exports},1:function(t,e){},2465:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var l=n("b775");function r(){return Object(l["a"])({url:"/trades",method:"get"})}function o(t){return Object(l["a"])({url:"/trades",method:"put",data:t})}}}]);