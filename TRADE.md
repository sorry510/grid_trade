## 交易逻辑

### 注意事项
- 交易为撮合交易价格小数位数过多会造成撮合失败
- 下单金额必须>=10usdt

### 初始化买卖价格
>根据最近40条4h的k线数据, 使用公式 `rate = (sum(|(最高价-最低价)| / 收盘价)) / 40 * 100`, 得到最近的变化率，一般波动在(2~10)之间，算出初始买单价与卖单价，然后等待交易
>买单价= 当前价格 * (1 - rate / 100)
>卖单价= 当前价格 * (1 + rate / 100)

### 第一次触发交易为买单价
>记录买入交易记录(买单价，卖单价),并记录当前拥有的货币数量,之后重新生成新的买单价和卖单价

### 连续的买入情况
> 记录买入交易记录(买单价，卖单价),并记录当前拥有的货币数量,之后重新生成新的买单价和卖单价

### 没有未卖出的买单的情况
>根据卖单价进行触发，由于没有买入货币，无法交易，所以直接根据当前价格，重新生成新的买单价和卖单价，继续等待新的交易

### 已有未卖出的买单的情况
>从没有卖出的买单记录中，找寻价格最低的卖单价，进行卖出，之后标记为已卖单，然后重新生成新的买单价和卖单价

### TODO

#### 极端行情如何避免交易
- 如何找到急速拉升
- 如何找到急速下降
- 如何找到迅速的拉升与回撤
- 买入限额

### 新的卖出规则
> 当第一次超过卖出价格时，设定当前价格为新的卖出价格，等待下一次，如果价格继续拉升，一直设定为新的交易价格，如果中间有回落,跌破到(最高价格-最初卖价格) / 50% + 最初卖价格,就进行卖出操作



### TODO
- 更新状态前，先拉取最新数据
- 更新一直价格上升时的买单价格
- 